<div ng-form="$ctrl.form">
  <div class="listing-edit__details">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h2 class="panel-title">Edit Listing Information</h2>
      </div>
      <div class="panel-body">
        <chpl-listing-edit-bridge
          listing="$ctrl.listingBasic"
          on-change="$ctrl.updateBasic(listing, messages, reason)"
          resources="$ctrl.resources"
          show-form-errors="$ctrl.showFormErrors"
          work-type="$ctrl.isConfirming ? 'confirm' : 'edit'"
          >
        </chpl-listing-edit-bridge>
        <chpl-listing-edit
          listing="$ctrl.listingBasic"
          on-change="$ctrl.updateBasic(listing, messages, reason)"
          resources="$ctrl.resources"
          show-form-errors="$ctrl.showFormErrors"
          work-type="$ctrl.isConfirming ? 'confirm' : 'edit'"
          >
        </chpl-listing-edit>
      </div>
    </div>
    <div class="panel panel-default">
      <div class="panel-heading">
        <h2 class="panel-title">Edit Listing Details</h2>
      </div>
      <div class="panel-body">
        <chpl-listing-details-edit
          listing="$ctrl.listingDetails"
          is-confirming="$ctrl.isConfirming"
          on-change="$ctrl.updateDetails(listing, messages)"
          resources="$ctrl.resources"
          show-form-errors="$ctrl.showFormErrors"
          >
        </chpl-listing-details-edit>
      </div>
    </div>
  </div>
  <chpl-action-bar-wrapper-bridge
    is-disabled="($ctrl.showFormErrors && !$ctrl.isValid()) || $ctrl.isSaving"
    errors="$ctrl.errorMessages"
    warnings="$ctrl.warningMessages"
    show-error-acknowledgement="$ctrl.showErrorAcknowledgement"
    show-warning-acknowledgement="$ctrl.showWarningAcknowledgement"
    dispatch="::$ctrl.takeActionBarAction">
  </chpl-action-bar-wrapper-bridge>
</div>

<div ng-form="$ctrl.form">
  <div class="listing-edit__details">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h2 class="panel-title">Edit Listing Information</h2>
      </div>
      <div class="panel-body">
        <chpl-listing-edit
          listing="$ctrl.listingBasic"
          on-change="$ctrl.updateBasic(listing, messages, reason)"
          resources="$ctrl.resources"
          show-form-errors="$ctrl.showFormErrors"
          >
        </chpl-listing-edit>
      </div>
    </div>
    <div class="panel panel-default">
      <div class="panel-heading">
        <h2 class="panel-title">Edit Listing Details</h2>
      </div>
      <div class="panel-body">
        <chpl-listing-details-edit
          listing="$ctrl.listingDetails"
          on-change="$ctrl.updateDetails(listing, messages)"
          resources="$ctrl.resources"
          show-form-errors="$ctrl.showFormErrors"
          >
        </chpl-listing-details-edit>
      </div>
    </div>
  </div>
  <chpl-action-bar is-disabled="($ctrl.showFormErrors && !$ctrl.isValid()) || $ctrl.isSaving"
                   error-messages="$ctrl.errorMessages"
                   warning-messages="$ctrl.warningMessages"
                   take-action="$ctrl.takeActionBarAction(action, data)">
  </chpl-action-bar>
</div>
